# å‡½æ•°ç»„åˆæ¦‚å¿µ
## æ´‹è‘±æ¨¡å‹
ä»€ä¹ˆæ˜¯æ´‹è‘±æ¨¡å‹ï¼Ÿ

é¦–å…ˆæƒ³è±¡ä¸€ä¸‹ï¼ŒğŸ§…æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œæ´‹è‘±æ˜¯ä¸€å±‚åŒ…ä¸€å±‚ï¼Œè€Œåœ¨å‡½æ•°é‡Œé¢ï¼Œå‡½æ•°åŒ…è£¹å‡½æ•°ï¼Œå°±ä¼šå½¢æˆæ´‹è‘±æ¨¡å‹ã€‚

çœ‹ä¸‹é¢ä¾‹å­
```js
// å°†å­—ç¬¦ä¸²æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ è½¬åŒ–æˆå¤§å†™å­—æ¯
const _ = require('lodash')

console.log(_.toUpper(_.first(_.reverse(['a', 'b', 'c']))))
```

ä¸Šé¢ä¾‹å­çœ‹åˆ°æ²¡ï¼Œä¸€å±‚åŒ…ä¸€å±‚ï¼Œå½¢æˆæ´‹è‘±æ¨¡å‹ã€‚å½“ç„¶ï¼Œä¸Šé¢å¯èƒ½ä¼šæœ‰æ›´å¥½çš„åŠæ³•å»è§£å†³ï¼Œä½†æ˜¯ç»†åŒ–å‡½æ•°å¯ä»¥ä½¿å¾—å‡½æ•°å¯é‡ç”¨æ€§æ›´é«˜

## ç®¡é“
æ¥ä¸‹æ¥è¯´ä¸‹ç®¡é“å§

åœ¨å‡½æ•°ä¸­ï¼Œç®¡é“å°±åƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªå˜é‡ aï¼Œç»è¿‡ç®¡é“å¤„ç†ï¼Œè¿”å›ä¸€ä¸ªç»“æœ b

å½“ä¸€ä¸ªå‡½æ•°çš„å¤„ç†è¿‡ç¨‹è¶Šå¤šï¼Œç®¡é“å°±ä¼šè¶Šé•¿ï¼Œå¦‚æœåˆ°æ—¶å€™å‡ºç°é—®é¢˜ï¼Œæ‰¾èµ·æ¥å°±æ›´éº»çƒ¦äº†

![](https://dd-ss.oss-cn-guangzhou.aliyuncs.com/20210103093655.png)

è¿™æ—¶å€™å‘¢ï¼Œå¯ä»¥å°†é•¿çš„ç®¡é“ï¼Œæ‹†åˆ†æˆå¤šä¸ªå°ç®¡é“ï¼ˆé¢—ç²’åº¦å°çš„å‡½æ•°ï¼‰å»å¤„ç†

![](https://dd-ss.oss-cn-guangzhou.aliyuncs.com/20210103094016.png)

è¿™æ ·ä½¿ç”¨å¤šä¸ªç®¡é“ï¼Œç¨‹åºå‡ºç°é—®é¢˜ï¼Œä¹Ÿèƒ½å¿«é€Ÿå®šä½åˆ°æ˜¯å“ªä¸ªç®¡é“

## ç»„åˆå‡½æ•°
è€Œç»„åˆå‡½æ•°ï¼Œå°±æ˜¯å°†å¤šä¸ªå‡½æ•°ï¼ˆç®¡é“ï¼‰ç»„åˆèµ·æ¥ã€‚æˆ‘ä»¬åªéœ€è¦ä¼ å…¥å˜é‡ aï¼Œä¸ç”¨ç®¡å…¶ä¸­å¤„ç†è¿‡ç¨‹çš„ç»“æœ c å’Œ dï¼Œå°±èƒ½å¾—åˆ°æœ€ç»ˆçš„ç»“æœ b

### æ€»ç»“
- å‡½æ•°ç»„åˆï¼ˆcomposeï¼‰ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°è¦ç»è¿‡å¤šä¸ªå‡½æ•°å¤„ç†æ‰èƒ½å¾—åˆ°æœ€ç»ˆå€¼ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥æŠŠä¸­é—´è¿‡ç¨‹çš„å‡½æ•°åˆå¹¶æˆä¸€ä¸ªå‡½æ•°
  - å‡½æ•°å°±åƒæ•°æ®çš„ç®¡é“ï¼Œå‡½æ•°ç»„åˆå°±æ˜¯æŠŠè¿™äº›ç®¡é“è¿æ¥èµ·æ¥ï¼Œè®©æ•°æ®ç©¿è¿‡å¤šä¸ªç®¡é“å½¢æˆæœ€ç»ˆç»“æœ
  - å‡½æ•°ç»„åˆé»˜è®¤æ˜¯ä»å³åˆ°å·¦æ‰§è¡Œï¼ˆfunction (f3, f2, f1) {} ,æ‰§è¡Œé¡ºåº f1 -> f2 -> f3ï¼‰

ä¸Šä¾‹å­

```js
// å°†å­—ç¬¦ä¸²æ•°ç»„ä¸­æœ€åä¸€ä¸ªå…ƒç´ è½¬åŒ–æˆå¤§å†™å­—æ¯

// å‡½æ•°ç»„åˆ
function compose(f3, f2, f1) {
  return function (value) {
    return f3(f2(f1(value)))
  }
}

// æ•°ç»„åè½¬
function reverse(array) {
  return array.reverse()
}

// æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ 
function first(array) {
  return array[0]
}

// å­—ç¬¦ä¸²è½¬å¤§å†™
function toUpper(str) {
  return str.toUpperCase()
}

const last = compose(toUpper, first, reverse)

console.log(last(['a', 'b', 'c'])) // C

```
