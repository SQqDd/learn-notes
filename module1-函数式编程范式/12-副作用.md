# 副作用
什么是副作用？

纯函数：对于相同输入永远都会得到相同输出，而且没有任何可观察的副作用。（划重点：可观察的副作用）

副作用会让一个函数变得不纯。什么情况下会产生副作用？

函数内部依赖于外部的状态，就会产生副作用，因为没法保证相同输出

例子

```js
// 不纯的
let mini = 18

function checkAge (age) {
  return age >= mini
}

// 纯的（有硬编码（将数据直接嵌入到程序，例子中直接将 mini 的值写死在代码中），后续可以通过柯里化解决）
function checkAge (age) {
  let mini = 18

  return age >= 18
}
```

例子分析：纯函数的依据是相同输入相同输出，如果函数依赖于外部状态就无法保证输出的相同，就会带来副作用

副作用来源：
- 配置文件（最常见的）
- 数据库
- 获取用户输入
- 异常（无法得到输出，即相同的结果）
- 。。。

- 所有的外部交互都有可能产生副作用，副作用也使得方法通用性下降，不适合扩展和可重用性
- 同时副作用会给程序带来安全隐患（用户输入，可能会导致跨脚本攻击）或者不确定性
- 不过副作用是不可能完全禁止的，只能尽可能控制他们在可控范围内发生
