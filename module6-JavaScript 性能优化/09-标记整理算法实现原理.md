- 标记整理算法原理
  - 标记整理可以看作是标记清除的增强
  - 标记阶段的操作和标记清除一致
  - 清除阶段会先执行整理，移动对象位置

- 标记阶段

![](https://dd-ss.oss-cn-guangzhou.aliyuncs.com/20210122151237.png)

- 整理阶段

![](https://dd-ss.oss-cn-guangzhou.aliyuncs.com/20210122151310.png)

- 回收后

![](https://dd-ss.oss-cn-guangzhou.aliyuncs.com/20210122151343.png)

- 标记整理算法与标记清除算法不同的地方是
- 标记整理算法多了一个整理阶段
- 第一次遍历，先标记活动对象
- 在回收执行之前，先整理一下内存空间。
- 将活动对象移动到一块，非活动对象移动到一块
- 接着再执行回收
- 这样就解决了空间碎片化的问题，并且能够最大化地利用内存空间
