- 慎用全局变量
  - 为什么要慎用
    - 全局变量定义全局执行上下文中，是所有作用域链的顶端
      - 在一个作用域中访问了一个变量，这变量定义在全局作用域中，他在当前作用域查找不到，会一直往上查找，直至顶端；如果将这个变量直接定义在当前作用域，会减少查找的时间
    - 全局执行上下文一直存在于上下文执行栈中，直至程序结束
      - 如果把所有变量都放到全局作用域中，此时 GC 就无法工作，会导致内存使用率越来越高
    - 如果某个局部作用域出现了同名变量，则会遮蔽或污染全局

上代码
```js
// 采用全局变量的方式
var index, str = ''

for (index = 0; index < 1000; index++) {
  str+= index
}

// 采用局部变量的方式
for (let i = 0; i < 1000; i++) {
  let str = ''
  str+= i
}

```

去 `jsbench.me` 测试

![](https://dd-ss.oss-cn-guangzhou.aliyuncs.com/20210124164619.png)

如图所示，全局变量方式的效率是很差的
